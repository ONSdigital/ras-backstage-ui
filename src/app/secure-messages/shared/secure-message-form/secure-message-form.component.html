<div class="secure-message-form secure-message-form-component" #secureMessage>
    <form>
        <p>To: {{to}}</p>

        <fieldset class="u-mb-m">
            <label for="secure-message-subject">Subject</label>
            <input
                id="secure-message-subject"
                class="secure-message-form__subject input input--text"
                type="text"
                name="secure-message-subject"
                required
                [(ngModel)]="subject"
                (keyup)="subjectChange.emit(subject)"/>
        </fieldset>

        <fieldset class="u-mb-m">
            <label for="secure-message-body">Message</label>
            <textarea
                id="secure-message-body"
                class="secure-message-form__body input"
                rows="10"
                name="secure-message-body"
                required
                [(ngModel)]="body"
                (keyup)="bodyChange.emit(body)"></textarea>
        </fieldset>

        <button class="btn btn--secondary" type="submit"
                (click)="secondary_button_click.emit($event);"
                [disabled]="!isValid()">Save draft</button>

        <button class="btn btn--primary" type="submit"
            (click)="primary_button_click.emit($event);"
            [disabled]="!isValid()">Send message</button>

        <div class="u-mb-m">
            <a [routerLink]="'/secure-messages'">Cancel</a>
        </div>
    </form>
</div>
