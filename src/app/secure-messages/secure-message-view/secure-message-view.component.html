<div class="secure-message-view-component">
    <div class="grid">
        <div class="grid__col col-8@m">

            <h1 class="saturn">Subject: {{ originalSecureMessage?.subject }}</h1>

            <div class="grid u-mb-s">
                <dl>
                    <dt class="grid__col col-2@s">From:</dt>
                    <dd class="grid__col col-10@s">{{ originalSecureMessage?.msg_from.firstname }} {{ originalSecureMessage?.msg_from.surname }}</dd>
                    <dt class="grid__col col-2@s">Sent:</dt>
                    <dd class="grid__col col-10@s">{{ (originalSecureMessage?.sent_date === 'N/A') ? 'N/A' : (originalSecureMessage?.sent_date | date:'HH:mm EEE d MMM y') }}</dd>
                    <!--<dd class="grid__col col-10@s">{{ (originalSecureMessage?.sent_date !== 'N/A' ? originalSecureMessage.sent_date : originalSecureMessage.modified_date) | date:'EEE d MMM HH:mm' }}</dd>-->
                </dl>
            </div>

            <p class="u-mb-l">
                <ng-container *ngFor="let line of originalMessageBody; let i = index">
                    {{ line }}<br />
                </ng-container>
            </p>

            <fieldset class="u-mb-m">
                <label class="venus" for="secure-message-body">Reply</label>
                <textarea
                    id="secure-message-body"
                    class="input input--textarea input--textarea-message"
                    rows="10"
                    name="secure-message-body"
                    [ngModel]="newMessageBody"
                    (change)="onTypingReply($event)"
                    (keyup)="onTypingReply($event)"
                    aria-labelledby="secure-message-body"></textarea>
            </fieldset>

            <button class="btn" type="submit"
                [disabled]="!isValid()"
                (click)="send_reply_click_handler.emit($event)"
                role="button">Send reply</button>

            <div class="u-mb-m">
                <a [routerLink]="'/secure-messages'">Cancel</a>
            </div>
        </div>
        <!--<div class="grid__col col-4@m"></div>-->
    </div>
</div>
