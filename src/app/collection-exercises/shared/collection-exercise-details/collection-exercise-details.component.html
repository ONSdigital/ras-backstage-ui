<div class="collection-exercise-details-component">
    <h1 data-test="SURVEY_TITLE" class="saturn">{{ collectionExerciseDetails?.surveyTitle }}</h1>

    <div class="panel panel--simple panel--info survey-info-panel">

        <div class="grid">
            <dl class="survey-info">
                <dt data-test="INQUIRY_CODE_LABEL" class="survey-info__title grid__col col-4@m">Inquiry code:</dt>
                <dd data-test="INQUIRY_CODE_VALUE" class="survey-info__data grid__col col-8@m inquiry-code">{{ collectionExerciseDetails?.inquiryCode }}</dd>
                <dt data-test="REFERENCE_PERIOD_LABEL" class="survey-info__title grid__col col-4@m">Reference period:</dt>
                <dd data-test="REFERENCE_PERIOD_VALUE" class="survey-info__data grid__col col-8@m reference-period">{{ collectionExerciseDetails?.referencePeriod }}</dd>
            </dl>
        </div>
    </div>

    <h2 data-test="COLLECTION_INSTRUMENTS_HEADING" class="neptune collection-instruments-heading">Collection instruments</h2>

    <ul>
        <li *ngIf="collectionExerciseDetails?.collectionInstrumentBatch.status === undefined ||
            collectionExerciseDetails?.collectionInstrumentBatch.current < collectionExerciseDetails?.collectionInstrumentBatch.count">
            <span data-test="NO_COLLECTION_INSTRUMENTS_AVAILABLE_MESSAGE">No collection instruments available</span>
        </li>

        <li *ngIf="collectionExerciseDetails?.collectionInstrumentBatch.status === 'pending'">
            <span data-test="READY_TO_LOAD_MESSAGE">{{ collectionExerciseDetails?.collectionInstrumentBatch.count }} Excel files ready to load</span>
            <button data-test="LOAD_COLLECTION_INSTRUMENTS_BUTTON"
                class="load-ci-batch-button btn btn--small btn--secondary btn--border"
                (click)="load_cis_click_handler.next();">Load files</button>
        </li>

        <li *ngIf="collectionExerciseDetails?.collectionInstrumentBatch.status === 'active'">
            <span data-test="LOADED_FILES_COUNT">{{ collectionExerciseDetails?.collectionInstrumentBatch.count }} Excel files loaded</span> - <a href="bres-2016-seft-cis.csv" data-test="DOWNLOAD_CSV_LINK">Download list (CSV)</a>
        </li>
    </ul>

</div>
